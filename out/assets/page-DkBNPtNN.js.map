{"version":3,"file":"page-DkBNPtNN.js","sources":["../../src/pages/shop/page.tsx"],"sourcesContent":["import { useTranslation } from 'react-i18next';\nimport { useState, useEffect, useMemo } from 'react';\nimport { motion } from 'framer-motion';\nimport { useNavigate } from 'react-router-dom';\nimport Header from '../../components/feature/Header';\nimport Footer from '../../components/feature/Footer';\nimport { products } from '../../mocks/products';\n\nexport default function ShopPage() {\n  const { t, i18n } = useTranslation();\n  const navigate = useNavigate();\n  const [cart, setCart] = useState<any[]>([]);\n  const [selectedProduct, setSelectedProduct] = useState<any>(null);\n  const [selectedSize, setSelectedSize] = useState('');\n  const [sortBy, setSortBy] = useState('popularity');\n  const [filterCategory, setFilterCategory] = useState('All');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [priceRange, setPriceRange] = useState<[number, number]>([0, 10000]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [showFilters, setShowFilters] = useState(false);\n  const itemsPerPage = 20;\n\n  useEffect(() => {\n    const cartData = JSON.parse(localStorage.getItem('cart') || '[]');\n    setCart(cartData);\n  }, []);\n\n  // Advanced filtering and sorting\n  const filteredAndSortedProducts = useMemo(() => {\n    let filtered = [...products];\n    \n    // Search filter\n    if (searchQuery.trim()) {\n      const query = searchQuery.toLowerCase();\n      filtered = filtered.filter(p => \n        p.name.toLowerCase().includes(query) || \n        p.nameFr.toLowerCase().includes(query) ||\n        p.category.toLowerCase().includes(query)\n      );\n    }\n\n    // Category filter\n    if (filterCategory !== 'All') {\n      filtered = filtered.filter(p => p.category === filterCategory);\n    }\n\n    // Price range filter\n    filtered = filtered.filter(p => p.price >= priceRange[0] && p.price <= priceRange[1]);\n\n    // Sort\n    switch(sortBy) {\n      case 'popularity':\n        filtered.sort((a, b) => b.popularity - a.popularity);\n        break;\n      case 'purchases':\n        filtered.sort((a, b) => b.purchases - a.purchases);\n        break;\n      case 'searches':\n        filtered.sort((a, b) => b.searches - a.searches);\n        break;\n      case 'rating':\n        filtered.sort((a, b) => b.rating - a.rating);\n        break;\n      case 'price-high':\n        filtered.sort((a, b) => b.price - a.price);\n        break;\n      case 'price-low':\n        filtered.sort((a, b) => a.price - b.price);\n        break;\n      case 'name-asc':\n        filtered.sort((a, b) => a.name.localeCompare(b.name));\n        break;\n      case 'name-desc':\n        filtered.sort((a, b) => b.name.localeCompare(a.name));\n        break;\n      default:\n        break;\n    }\n\n    return filtered;\n  }, [products, searchQuery, filterCategory, priceRange, sortBy]);\n\n  // Pagination\n  const totalPages = Math.ceil(filteredAndSortedProducts.length / itemsPerPage);\n  const paginatedProducts = filteredAndSortedProducts.slice(\n    (currentPage - 1) * itemsPerPage,\n    currentPage * itemsPerPage\n  );\n\n  // Reset to page 1 when filters change\n  useEffect(() => {\n    setCurrentPage(1);\n  }, [searchQuery, filterCategory, priceRange, sortBy]);\n\n  const categories = ['All', ...Array.from(new Set(products.map(p => p.category)))];\n\n  const addToCart = (product: any, size: string) => {\n    const cartItem = {\n      ...product,\n      selectedSize: size,\n      addedAt: Date.now()\n    };\n    const newCart = [...cart, cartItem];\n    setCart(newCart);\n    localStorage.setItem('cart', JSON.stringify(newCart));\n    setSelectedProduct(null);\n    setSelectedSize('');\n  };\n\n  const openQuickAdd = (product: any) => {\n    setSelectedProduct(product);\n    setSelectedSize('');\n  };\n\n  const clearFilters = () => {\n    setSearchQuery('');\n    setFilterCategory('All');\n    setPriceRange([0, 10000]);\n    setSortBy('popularity');\n    setCurrentPage(1);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-white\">\n      <Header />\n\n      {/* Hero Section */}\n      <div className=\"pt-32 pb-16 px-8 bg-gradient-to-b from-gray-50 to-white\">\n        <div className=\"max-w-7xl mx-auto text-center\">\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.6 }}\n          >\n            <h1 className=\"text-black text-7xl font-bold tracking-wider mb-6\">\n              {i18n.language === 'fr' ? 'BOUTIQUE COLLECTION' : 'SHOP COLLECTION'}\n            </h1>\n            <p className=\"text-gray-600 text-xl mb-8\">\n              {i18n.language === 'fr' \n                ? `${filteredAndSortedProducts.length} pièces de luxe exceptionnelles` \n                : `${filteredAndSortedProducts.length} Exceptional Luxury Pieces`}\n            </p>\n            \n            {/* Cart Summary */}\n            <div className=\"flex items-center justify-center gap-4 mb-8\">\n              <button\n                onClick={() => navigate('/checkout')}\n                className=\"flex items-center gap-3 px-8 py-4 bg-black text-white rounded-full hover:bg-[#D4AF37] hover:text-black transition-all cursor-pointer whitespace-nowrap\"\n              >\n                <i className=\"ri-shopping-bag-3-line text-xl\"></i>\n                <span className=\"font-medium\">\n                  {i18n.language === 'fr' ? 'Panier' : 'Cart'} ({cart.length})\n                </span>\n              </button>\n              <button\n                onClick={() => setShowFilters(!showFilters)}\n                className=\"flex items-center gap-3 px-8 py-4 bg-gray-100 text-black rounded-full hover:bg-gray-200 transition-all cursor-pointer whitespace-nowrap\"\n              >\n                <i className=\"ri-filter-3-line text-xl\"></i>\n                <span className=\"font-medium\">\n                  {i18n.language === 'fr' ? 'Filtres' : 'Filters'}\n                </span>\n              </button>\n            </div>\n          </motion.div>\n        </div>\n      </div>\n\n      {/* Filters Panel - Collapsible */}\n      {showFilters && (\n        <div className=\"bg-white border-b border-gray-200 py-6 px-8 shadow-sm\">\n          <div className=\"max-w-7xl mx-auto space-y-6\">\n            {/* Search Bar */}\n            <div className=\"flex items-center gap-4\">\n              <div className=\"flex-1 relative\">\n                <i className=\"ri-search-line absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg\"></i>\n                <input\n                  type=\"text\"\n                  value={searchQuery}\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                  placeholder={i18n.language === 'fr' ? 'Rechercher des robes, catégories...' : 'Search dresses, categories...'}\n                  className=\"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-full text-sm focus:border-[#D4AF37] outline-none\"\n                />\n                {searchQuery && (\n                  <button\n                    onClick={() => setSearchQuery('')}\n                    className=\"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-black cursor-pointer\"\n                  >\n                    <i className=\"ri-close-line text-lg\"></i>\n                  </button>\n                )}\n              </div>\n              <button\n                onClick={clearFilters}\n                className=\"px-6 py-3 border border-gray-300 rounded-full text-sm font-medium hover:bg-gray-50 transition-all whitespace-nowrap cursor-pointer\"\n              >\n                <i className=\"ri-refresh-line mr-2\"></i>\n                {i18n.language === 'fr' ? 'Réinitialiser' : 'Clear All'}\n              </button>\n            </div>\n\n            {/* Filters Row */}\n            <div className=\"flex flex-wrap items-center justify-between gap-6\">\n              {/* Category Filter */}\n              <div className=\"flex items-center gap-3\">\n                <span className=\"text-sm font-medium text-gray-700\">\n                  {i18n.language === 'fr' ? 'Catégorie:' : 'Category:'}\n                </span>\n                <div className=\"flex gap-2 flex-wrap\">\n                  {categories.map((cat) => (\n                    <button\n                      key={cat}\n                      onClick={() => setFilterCategory(cat)}\n                      className={`px-4 py-2 rounded-full text-sm font-medium transition-all whitespace-nowrap cursor-pointer ${\n                        filterCategory === cat\n                          ? 'bg-black text-white'\n                          : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n                      }`}\n                    >\n                      {cat}\n                    </button>\n                  ))}\n                </div>\n              </div>\n\n              {/* Sort Options */}\n              <div className=\"flex items-center gap-3\">\n                <span className=\"text-sm font-medium text-gray-700\">\n                  {i18n.language === 'fr' ? 'Trier par:' : 'Sort by:'}\n                </span>\n                <select\n                  value={sortBy}\n                  onChange={(e) => setSortBy(e.target.value)}\n                  className=\"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium cursor-pointer focus:border-[#D4AF37] outline-none\"\n                >\n                  <option value=\"popularity\">{i18n.language === 'fr' ? 'Plus Populaire' : 'Most Popular'}</option>\n                  <option value=\"purchases\">{i18n.language === 'fr' ? 'Plus Acheté' : 'Most Purchased'}</option>\n                  <option value=\"searches\">{i18n.language === 'fr' ? 'Plus Recherché' : 'Most Searched'}</option>\n                  <option value=\"rating\">{i18n.language === 'fr' ? 'Mieux Noté' : 'Highest Rated'}</option>\n                  <option value=\"price-high\">{i18n.language === 'fr' ? 'Prix Décroissant' : 'Price: High to Low'}</option>\n                  <option value=\"price-low\">{i18n.language === 'fr' ? 'Prix Croissant' : 'Price: Low to High'}</option>\n                  <option value=\"name-asc\">{i18n.language === 'fr' ? 'Nom A-Z' : 'Name A-Z'}</option>\n                  <option value=\"name-desc\">{i18n.language === 'fr' ? 'Nom Z-A' : 'Name Z-A'}</option>\n                </select>\n              </div>\n            </div>\n\n            {/* Price Range Filter */}\n            <div className=\"flex items-center gap-6\">\n              <span className=\"text-sm font-medium text-gray-700\">\n                {i18n.language === 'fr' ? 'Prix:' : 'Price:'}\n              </span>\n              <div className=\"flex items-center gap-4 flex-1 max-w-md\">\n                <input\n                  type=\"number\"\n                  value={priceRange[0]}\n                  onChange={(e) => setPriceRange([Number(e.target.value), priceRange[1]])}\n                  className=\"w-24 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:border-[#D4AF37] outline-none\"\n                  placeholder=\"Min\"\n                />\n                <span className=\"text-gray-400\">—</span>\n                <input\n                  type=\"number\"\n                  value={priceRange[1]}\n                  onChange={(e) => setPriceRange([priceRange[0], Number(e.target.value)])}\n                  className=\"w-24 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:border-[#D4AF37] outline-none\"\n                  placeholder=\"Max\"\n                />\n                <span className=\"text-sm text-gray-600\">\n                  {i18n.language === 'fr' ? '€' : '$'}\n                </span>\n              </div>\n            </div>\n\n            {/* Results Count */}\n            <div className=\"text-sm text-gray-600\">\n              {i18n.language === 'fr' \n                ? `Affichage de ${paginatedProducts.length} sur ${filteredAndSortedProducts.length} produits`\n                : `Showing ${paginatedProducts.length} of ${filteredAndSortedProducts.length} products`}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Products Grid */}\n      <div className=\"py-16 px-8\">\n        <div className=\"max-w-7xl mx-auto\">\n          {paginatedProducts.length > 0 ? (\n            <>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12\" data-product-shop>\n                {paginatedProducts.map((product, index) => (\n                  <motion.div\n                    key={product.id}\n                    initial={{ opacity: 0, y: 20 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    transition={{ duration: 0.5, delay: index * 0.05 }}\n                    className=\"group cursor-pointer\"\n                  >\n                    <div className=\"relative overflow-hidden rounded-2xl mb-4 bg-gray-50\">\n                      <div className=\"w-full h-96\">\n                        <img\n                          src={product.image}\n                          alt={i18n.language === 'fr' ? product.nameFr : product.name}\n                          className=\"w-full h-full object-cover object-top group-hover:scale-110 transition-transform duration-700\"\n                          loading=\"lazy\"\n                        />\n                      </div>\n                      \n                      {/* Overlay with Quick Add */}\n                      <div className=\"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center\">\n                        <button\n                          onClick={() => openQuickAdd(product)}\n                          className=\"px-8 py-3 bg-white text-black rounded-full text-sm font-medium hover:bg-[#D4AF37] transition-all whitespace-nowrap cursor-pointer\"\n                        >\n                          {t('common:products.quickAdd')}\n                        </button>\n                      </div>\n\n                      {/* Badges */}\n                      <div className=\"absolute top-4 left-4 flex flex-col gap-2\">\n                        {product.rating >= 4.8 && (\n                          <span className=\"px-3 py-1 bg-[#D4AF37] text-black text-xs font-bold rounded-full\">\n                            {i18n.language === 'fr' ? 'TOP NOTÉ' : 'TOP RATED'}\n                          </span>\n                        )}\n                        {product.purchases > 200 && (\n                          <span className=\"px-3 py-1 bg-black text-white text-xs font-bold rounded-full\">\n                            {i18n.language === 'fr' ? 'BEST-SELLER' : 'BESTSELLER'}\n                          </span>\n                        )}\n                      </div>\n                    </div>\n\n                    <div className=\"space-y-2\">\n                      <h3 className=\"text-black text-lg font-bold\">\n                        {i18n.language === 'fr' ? product.nameFr : product.name}\n                      </h3>\n                      <div className=\"flex items-center justify-between\">\n                        <p className=\"text-[#D4AF37] text-xl font-bold\">\n                          {i18n.language === 'fr' ? '€' : '$'}{product.price.toLocaleString()}\n                        </p>\n                        <div className=\"flex items-center gap-1\">\n                          <i className=\"ri-star-fill text-[#D4AF37] text-sm\"></i>\n                          <span className=\"text-sm text-gray-600\">{product.rating}</span>\n                        </div>\n                      </div>\n                      <p className=\"text-xs text-gray-500\">\n                        {product.purchases} {i18n.language === 'fr' ? 'achats' : 'purchases'} • {product.searches} {i18n.language === 'fr' ? 'recherches' : 'searches'}\n                      </p>\n                    </div>\n                  </motion.div>\n                ))}\n              </div>\n\n              {/* Pagination */}\n              {totalPages > 1 && (\n                <div className=\"flex items-center justify-center gap-2\">\n                  <button\n                    onClick={() => setCurrentPage(prev => Math.max(1, prev - 1))}\n                    disabled={currentPage === 1}\n                    className={`w-10 h-10 rounded-full flex items-center justify-center transition-all ${\n                      currentPage === 1\n                        ? 'bg-gray-100 text-gray-400 cursor-not-allowed'\n                        : 'bg-black text-white hover:bg-[#D4AF37] cursor-pointer'\n                    }`}\n                  >\n                    <i className=\"ri-arrow-left-s-line text-xl\"></i>\n                  </button>\n\n                  {/* Page Numbers */}\n                  {Array.from({ length: Math.min(totalPages, 7) }, (_, i) => {\n                    let pageNum;\n                    if (totalPages <= 7) {\n                      pageNum = i + 1;\n                    } else if (currentPage <= 4) {\n                      pageNum = i + 1;\n                    } else if (currentPage >= totalPages - 3) {\n                      pageNum = totalPages - 6 + i;\n                    } else {\n                      pageNum = currentPage - 3 + i;\n                    }\n\n                    return (\n                      <button\n                        key={pageNum}\n                        onClick={() => setCurrentPage(pageNum)}\n                        className={`w-10 h-10 rounded-full flex items-center justify-center text-sm font-medium transition-all cursor-pointer ${\n                          currentPage === pageNum\n                            ? 'bg-black text-white'\n                            : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n                        }`}\n                      >\n                        {pageNum}\n                      </button>\n                    );\n                  })}\n\n                  <button\n                    onClick={() => setCurrentPage(prev => Math.min(totalPages, prev + 1))}\n                    disabled={currentPage === totalPages}\n                    className={`w-10 h-10 rounded-full flex items-center justify-center transition-all ${\n                      currentPage === totalPages\n                        ? 'bg-gray-100 text-gray-400 cursor-not-allowed'\n                        : 'bg-black text-white hover:bg-[#D4AF37] cursor-pointer'\n                    }`}\n                  >\n                    <i className=\"ri-arrow-right-s-line text-xl\"></i>\n                  </button>\n                </div>\n              )}\n            </>\n          ) : (\n            <div className=\"text-center py-20\">\n              <i className=\"ri-search-line text-6xl text-gray-300 mb-4\"></i>\n              <h3 className=\"text-2xl font-bold text-gray-800 mb-2\">\n                {i18n.language === 'fr' ? 'Aucun produit trouvé' : 'No products found'}\n              </h3>\n              <p className=\"text-gray-600 mb-6\">\n                {i18n.language === 'fr' \n                  ? 'Essayez d\\'ajuster vos filtres ou votre recherche'\n                  : 'Try adjusting your filters or search query'}\n              </p>\n              <button\n                onClick={clearFilters}\n                className=\"px-8 py-3 bg-black text-white rounded-full hover:bg-[#D4AF37] transition-all cursor-pointer whitespace-nowrap\"\n              >\n                {i18n.language === 'fr' ? 'Réinitialiser les filtres' : 'Clear All Filters'}\n              </button>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Quick Add Modal */}\n      {selectedProduct && (\n        <div className=\"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-8\" onClick={() => setSelectedProduct(null)}>\n          <motion.div\n            initial={{ opacity: 0, scale: 0.9 }}\n            animate={{ opacity: 1, scale: 1 }}\n            className=\"bg-white rounded-3xl max-w-4xl w-full max-h-[90vh] overflow-y-auto\"\n            onClick={(e) => e.stopPropagation()}\n          >\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8 p-8\">\n              {/* Product Image */}\n              <div className=\"rounded-2xl overflow-hidden bg-gray-50\">\n                <div className=\"w-full h-96\">\n                  <img\n                    src={selectedProduct.image}\n                    alt={i18n.language === 'fr' ? selectedProduct.nameFr : selectedProduct.name}\n                    className=\"w-full h-full object-cover object-top\"\n                  />\n                </div>\n              </div>\n\n              {/* Product Details */}\n              <div className=\"flex flex-col justify-between\">\n                <div>\n                  <h2 className=\"text-black text-3xl font-bold mb-4\">\n                    {i18n.language === 'fr' ? selectedProduct.nameFr : selectedProduct.name}\n                  </h2>\n                  <p className=\"text-[#D4AF37] text-3xl font-bold mb-6\">\n                    {i18n.language === 'fr' ? '€' : '$'}{selectedProduct.price.toLocaleString()}\n                  </p>\n\n                  <div className=\"flex items-center gap-4 mb-6\">\n                    <div className=\"flex items-center gap-1\">\n                      <i className=\"ri-star-fill text-[#D4AF37]\"></i>\n                      <span className=\"font-medium\">{selectedProduct.rating}</span>\n                    </div>\n                    <span className=\"text-gray-400\">|</span>\n                    <span className=\"text-sm text-gray-600\">\n                      {selectedProduct.purchases} {i18n.language === 'fr' ? 'achats' : 'purchases'}\n                    </span>\n                  </div>\n\n                  {/* Size Selection */}\n                  <div className=\"mb-8\">\n                    <h3 className=\"text-black text-sm font-bold mb-3\">\n                      {i18n.language === 'fr' ? 'SÉLECTIONNER LA TAILLE' : 'SELECT SIZE'}\n                    </h3>\n                    <div className=\"grid grid-cols-4 gap-3\">\n                      {['XS', 'S', 'M', 'L'].map((size) => (\n                        <button\n                          key={size}\n                          onClick={() => setSelectedSize(size)}\n                          className={`py-3 rounded-lg text-sm font-medium transition-all whitespace-nowrap cursor-pointer ${\n                            selectedSize === size\n                              ? 'bg-black text-white'\n                              : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n                          }`}\n                        >\n                          {size}\n                        </button>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n\n                {/* Add to Cart Button */}\n                <button\n                  onClick={() => selectedSize && addToCart(selectedProduct, selectedSize)}\n                  disabled={!selectedSize}\n                  className={`w-full py-4 rounded-full text-sm font-medium tracking-wider transition-all whitespace-nowrap ${\n                    selectedSize\n                      ? 'bg-black text-white hover:bg-[#D4AF37] hover:text-black cursor-pointer'\n                      : 'bg-gray-200 text-gray-400 cursor-not-allowed'\n                  }`}\n                >\n                  {t('common:products.addToCart')}\n                </button>\n              </div>\n            </div>\n\n            {/* Close Button */}\n            <button\n              onClick={() => setSelectedProduct(null)}\n              className=\"absolute top-6 right-6 w-10 h-10 bg-black text-white rounded-full flex items-center justify-center hover:bg-[#D4AF37] hover:text-black transition-all cursor-pointer\"\n            >\n              <i className=\"ri-close-line text-xl\"></i>\n            </button>\n          </motion.div>\n        </div>\n      )}\n\n      <Footer />\n    </div>\n  );\n}"],"names":["ShopPage","t","i18n","useTranslation","navigate","useNavigate","cart","setCart","useState","selectedProduct","setSelectedProduct","selectedSize","setSelectedSize","sortBy","setSortBy","filterCategory","setFilterCategory","searchQuery","setSearchQuery","priceRange","setPriceRange","currentPage","setCurrentPage","showFilters","setShowFilters","itemsPerPage","useEffect","cartData","filteredAndSortedProducts","useMemo","filtered","products","query","p","a","b","totalPages","paginatedProducts","categories","addToCart","product","size","cartItem","newCart","openQuickAdd","clearFilters","jsxs","jsx","Header","motion","e","cat","Fragment","index","prev","_","i","pageNum","Footer"],"mappings":"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"}